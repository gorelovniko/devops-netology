# Домашнее задание к занятию «Инструменты GIT» - `Горелов Николай`

https://github.com/gorelovniko/sysadm-homeworks/blob/devsys10/02-git-04-tools/README.md

---

### Инструкция к заданию

1. Склонируйте [репозиторий](https://github.com/hashicorp/terraform) с исходным кодом Terraform.
2. Создайте файл для ответов на задания в своём репозитории, после выполнения прикрепите ссылку на .md-файл с ответами в личном кабинете.
3. Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Задание

В клонированном репозитории:

1. Найдите полный хеш и комментарий коммита, хеш которого начинается на `aefea`.
2. Ответьте на вопросы.

* Какому тегу соответствует коммит `85024d3`?
* Сколько родителей у коммита `b8d720`? Напишите их хеши.
* Перечислите хеши и комментарии всех коммитов, которые были сделаны между тегами  v0.12.23 и v0.12.24.
* Найдите коммит, в котором была создана функция `func providerSource`, её определение в коде выглядит так: `func providerSource(...)` (вместо троеточия перечислены аргументы).
* Найдите все коммиты, в которых была изменена функция `globalPluginDirs`.
* Кто автор функции `synchronizedWriters`? 

*В качестве решения ответьте на вопросы и опишите, как были получены эти ответы.*


---

## Решение

### 1. Для поиска полного хеша и комментария коммита, начинающегося с aefea, использовалась команда:

``` bash
git show aefea --pretty=format:'%H %s' --no-patch
```

git show - Показывает информацию о конкретном объекте Git (коммите, теге, дереве или файле). В данном случае — о коммите.
aefea - это сокращённый хеш коммита (первые 5 символов полного хеша). Git автоматически находит полный хеш по этому сокращению.

--pretty=format:'%H %s'   
Задаёт пользовательский формат вывода:  
%H — полный хеш коммита (40 символов)  
%s — заголовок (subject) коммита (первая строка сообщения)    
--no-patch - отключает вывод diff (изменений файлов в коммите). Без этой опции git show по умолчанию показывает и информацию о коммите, и его diff.

Результат:

``` bash
aefead2207ef7e2aa5dc81a34aedf0cad4c32545 Update CHANGELOG.md  
```

![GIT-04.1](../GIT-04.%20Инструменты%20GIT/img/GIT-04.1.JPG)

---

## 2. Ответы на вопросы:

### 2.1 Для поиска тега, соответствующего коммиту 85024d3

``` bash
git tag --contains 85024d3
```
--contains — флаг, который означает:
«Найти все теги, которые ссылаются на коммиты, содержащие 85024d3 в своей истории».

Ипользуется чтобы узнать, в каких версиях проекта присутствует определённый коммит (например, исправление бага или новая фича) или для проверки, попал ли коммит в релиз.

Результат:  
![GIT-04.2.1](../GIT-04.%20Инструменты%20GIT/img/GIT-04.2.1.JPG)

---

### 2.2 Для определения количества родителей и их хешей использовалась команда:

``` bash
git show --pretty=%P b8d720^@
```
В Git синтаксис ^@ означает всех родителей коммита.  
Если коммит обычный (не мерж), то у него один родитель, и ^@ вернёт его.  
Если коммит — это слияние (merge), то ^@ вернёт всех родителей (как в моём случае — два хеша).  

Результат:  
![GIT-04.2.2](../GIT-04.%20Инструменты%20GIT/img/GIT-04.2.2.JPG)

Первая строка:
58dcac4b798f0a2421170d84e507a42838101648 ffbcf55817cb96f6d5ffe1a34abe963b159bf34e
Это означает, что коммит b8d720^@ имеет два родителя (это merge-коммит).

---

### 2.3 Для получения списка коммитов между тегами использовалась команда:

``` bash
git log v0.12.23..v0.12.24 --pretty=format:'%H %s'
```

Результат:  
![GIT-04.2.3](../GIT-04.%20Инструменты%20GIT/img/GIT-04.2.3.JPG)

---

### 2.4 Для поиска коммита, в котором была создана функция func providerSource, использовалась команда:

``` bash
git log -S 'func providerSource(' --pretty=format:'%H %s'
```
-S 'func providerSource(' ищет коммиты, в которых количество вхождений строки 'func providerSource(' изменилось (было добавлено или удалено).

--pretty=format:'%H %s' форматирует вывод, показывая:  
%H — полный хеш коммита  
%s — его заголовок (subject)  

'-S' полезно для поиска изменений в конкретных функциях или строках кода (аналог git pickaxe).

Результат:  
![GIT-04.2.4](../GIT-04.%20Инструменты%20GIT/img/GIT-04.2.4.JPG)

---

### 2.5 Для поиска коммитов, в которых изменялась функция globalPluginDirs, использовалась команда:

``` bash
git log -G 'globalPluginDirs' --pretty=format:'%H %s'
```
-G 'globalPluginDirs' ищет коммиты, в которых изменения (diff) затрагивали строку globalPluginDirs (регулярное выражение).  
--pretty=format:'%H %s' — тот же формат вывода (хеш + заголовок).  

'-G' полезен для поиска любых изменений, связанных с паттерном (например, переменной, названии функции, конфигурации).

Результат:  
![GIT-04.2.5](../GIT-04.%20Инструменты%20GIT/img/GIT-04.2.5.JPG)

---

### 2.6 Для определения автора функции synchronizedWriters использовалась команда:

``` bash
git log -S 'synchronizedWriters' --pretty=format:'%an' | sort -u
```

-S 'synchronizedWriters' ищет коммиты, в которых количество вхождений строки 'synchronizedWriters' изменилось (было добавлено или удалено).  
--pretty=format:'%H %s' форматирует вывод, показывая:  
%H — полный хеш коммита  
%s — его заголовок (subject)  

'-S' полезно для поиска изменений в конкретных функциях или строках кода (аналог git pickaxe)

sort -u  -  отсортирует и выведит уникальные результаты. Без этого будет 3 результата. James Bardin оставлял 2 коммита для этой функции.

Результат:  
![GIT-04.2.6](../GIT-04.%20Инструменты%20GIT/img/GIT-04.2.6.JPG)

---